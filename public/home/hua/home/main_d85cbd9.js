define("pc/page/login/main",["require","exports","module"],function(){var F=new lg.Views.BaseView({name:"loginView",fields:[{name:"username",validRules:[{mode:"require",data:"",message:"请输入已验证手机/邮箱",trigger:"blur"},{mode:"pattern",isUse:!0,status:!1,data:{phone:/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i},message:"请输入有效的手机/邮箱"}],controlType:"Phone"},{name:"password",validRules:[{mode:"require",data:"",message:"请输入密码"},{mode:"pattern",data:"/^[\\S\\s]{6,16}$/",message:"请输入6-16位密码，字母区分大小写"}],controlType:"Password"},{name:"request_form_verifyCode",isVisible:!1,validRules:[{mode:"require",data:"",message:"请输入验证码"},{mode:"pattern",data:"/^[a-zA-Z0-9]{4,4}$/",message:"请输入正确的验证码"}],from:"register",url:"http://passport.lagou.com/vcode/create",controlType:"VerifyCode"},{name:"submit",validRules:[],controlType:"Button",url:"/login/login.json",click:function(e){var F=e,a=F.parent.CollectData(),g="veenike";a.isValidate&&(a.password=md5(a.password),a.password=md5(g+a.password+g),$.ajax({url:F.control._option.url,data:a,type:"post",dataType:"json",cache:!1}).done(function(a){var g={1:{message:"成功",linkFor:"password",level:"info"},210:{message:"请输入有效的手机/邮箱",linkFor:"username",level:"error"},211:{message:"请输入6-16位密码，字母区分大小写",linkFor:"password",level:"error"},220:{message:"请输入已验证手机/邮箱",linkFor:"username",level:"error"},240:{message:"请输入已验证手机/邮箱",linkFor:"username",level:"error"},241:{message:"请输入密码",linkFor:"password",level:"error"},299:{message:"你的操作太过频繁，请稍后再试",linkFor:"password",level:"error"},400:{message:"帐号和密码不匹配",linkFor:"password",level:"error"},500:{message:"系统错误",linkFor:"password",level:"error"},10010:{message:"验证码不正确",linkFor:"request_form_verifyCode",level:"error"},10011:{message:"系统错误",linkFor:"password",level:"error"},10012:{message:"系统错误",linkFor:"password",level:"error"}};if(g[a.state]&&1!=a.state?F.parent.field[g[a.state].linkFor].showMessage({message:g[a.state].message}):F.parent.field.request_form_verifyCode.getVerifyCode(),1==a.state){var D="/grantServiceTicket/grant.html";window.location.href=D}else F.parent.field.request_form_verifyCode.getIsVisible()&&F.parent.field.request_form_verifyCode.getVerifyCode();10010!=a.state||F.parent.field.request_form_verifyCode.getIsVisible()||(F.parent.field.request_form_verifyCode.getVerifyCode(),F.parent.field.request_form_verifyCode.setVisible(!0))}))}}]}),a=$("#isVisiable_request_form_verifyCode").val();a&&(F.field.request_form_verifyCode.getVerifyCode(),F.field.request_form_verifyCode.setVisible(!0)),$("body").on("keyup",function(a){13==a.keyCode&&(F.field.submit.getElement().find("input").focus(),F.field.submit.getElement().find("input").trigger("click"))})});